{% extends 'BusManagement_App/Base.html' %}
{% load static %}
{% block content %}
<div class="container mt-5">
  <h2 class="form-heading mb-4">List des Etudiants</h2>
  <div class="table-responsive">
    <table class="table table-striped table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>Prenom</th>
          <th>Nom</th>
          <th>Niveau</th>
          <th>L'address</th>
          <th>Distance a l'ecole</th>
          <th>Éligible au transport</th>
          <th>Besoins spéciaux</th>
          <th>temporary disability</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for student in students %}
        <tr>
          <td>{{ student.first_name }}</td>
          <td>{{ student.last_name }}</td>
          <td>{{ student.grade }}</td>
          <td>{{ student.address }}</td>
          <td>{{ student.distance_to_school }} km</td>
          <td>{{ student.is_eligible_for_transport|yesno:"Oui,Non" }}</td>
          <td>{{ student.has_special_needs|yesno:"Oui,Non" }}</td>
          <td>{{ student.temporary_disability|yesno:"Oui,Non" }}</td>
          <td>
            <a href="{% url 'student_detail' student.id %}" class="btn btn-info btn-sm">Voir</a>
            <a href="{% url 'student_update' student.id %}" class="btn btn-primary btn-sm">Modifier</a>
            <a href="{% url 'student_delete' student.id %}" class="btn btn-danger btn-sm">Supprimer</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <a href="{% url 'student_add' %}" class="btn btn-success mt-3">Ajouté un nouveau etudiant</a>
</div>

<style>
  body {
    background-image: url('{% static "BusManagement_App/anaback.jpg" %}');
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover; /* This will make the image cover the entire viewport */
}
  
  .form-heading {
    text-align: center;
    color: #0056b3;
    margin-bottom: 20px;
  }

  .table {
    background-color: #ffffff;
    border-radius: 8px;
    overflow: hidden; /* To ensure rounded corners apply to table */
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .table th, .table td {
    vertical-align: middle;
    text-align: center;
  }

  .table th {
    background-color: #343a40;
    color: #fff;
    border: none;
  }

  .table td {
    border-top: none;
  }

  .btn {
    margin: 5px;
  }

  .btn-sm {
    padding: .25rem .5rem;
    font-size: .875rem;
    border-radius: .2rem;
  }

  .btn-info {
    background-color: #17a2b8;
    border-color: #17a2b8;
  }

  .btn-info:hover {
    background-color: #138496;
    border-color: #117a8b;
  }

  .btn-primary {
    background-color: #007bff;
    border-color: #007bff;
  }

  .btn-primary:hover {
    background-color: #0056b3;
    border-color: #004085;
  }

  .btn-danger {
    background-color: #dc3545;
    border-color: #dc3545;
  }

  .btn-danger:hover {
    background-color: #c82333;
    border-color: #bd2130;
  }

  .btn-success {
    background-color: #28a745;
    border-color: #28a745;
  }

  .btn-success:hover {
    background-color: #218838;
    border-color: #1e7e34;
  }

  .container {
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  }

  .table-responsive {
    margin-top: 20px;
  }
</style>
{% endblock %}
